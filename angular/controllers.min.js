app.controller("myController",["$scope","$rootScope","$timeout","myService","$window","$http",function(e,r,o,t,n,a){e.contentLoaded=!1,e.imagesLoadedCounter=0,e.imagesLoadedRequired=4,e.$on("imagesLoaded",function(){e.contentLoaded||(console.log("LOADING DONE!"),o(function(){e.initializeRubberLetter(),e.contentLoaded=!0,e.$apply(),jQuery(".parallax").parallax()},250))}),e.getNavigation=function(){t.getNavigation().then(function(r){console.log(r),e.navItems=r.navItems})["catch"](function(){console.log("Error occured in Get Navigation")})},e.getBackgrounds=function(){t.getBackgrounds().then(function(r){console.log(r),e.bgItems=r.bgItems,e.setBackground(e.bgItems)})["catch"](function(){console.log("Error occured in Get Backgrounds")})},e.colorArray=["#F44336","#9C27B0","#3F51B5","#009688","#3F51B5","#8BC34A","#FF5722"],e.changeBackground=function(r){angular.forEach($(".page-title span"),function(r){e.randomColor=e.colorArray[Math.floor(Math.random()*e.colorArray.length)],$(r).css("color",e.randomColor)}),$("#home-bg img").fadeOut(function(){$(this).attr("src",r.imgUrl).fadeIn(),$(".page-title span").css("color","white")}),angular.element(document.querySelector("header .navbar-fixed nav")).css("background-image","url("+r.imgBlurUrl+")"),angular.element(document.querySelector("footer.page-footer")).css("background-image","url("+r.imgBlurUrl+")"),angular.element(document.querySelector(".submit-btn")).css("background-image","url("+r.imgBlurUrl+")")},e.setBackground=function(r){for(var o=Math.floor(3*Math.random()+1),t=0;t<r.length;t++)if(r[t].id==o)return void e.changeBackground(r[t])},o(function(){e.getNavigation(),e.getBackgrounds(),window.sr=ScrollReveal({viewFactor:.1}),sr.reveal(".timeline-event"),sr.reveal("h1"),sr.reveal("h2"),sr.reveal("h3"),sr.reveal("#fun .section .content"),sr.reveal("#contact .section .content"),$("#nav-icon1").click(function(){$(this).toggleClass("open")}),$(window).resize(function(){e.windowWidthMobile=$(window).width()<=800}),e.windowWidthMobile=$(window).width()<=800,$(window).scroll(function(){e.windowWidthMobile||($("#home-bg").height()-$(this).scrollTop()<=300&&$("#home-bg").height()-$(this).scrollTop()>=-50?$("#home-bg img").css({filter:"blur("+($(window).scrollTop()/15-20)+"px)"}):$("#home-bg img").css({filter:"blur(0px)"}),$("#home").css({transform:"translate3d(0px,"+$(window).scrollTop()/5+"px, 0px)"}),$(".portrait-frame").css({width:250-$(window).scrollTop()/7+"px",height:250-$(window).scrollTop()/7+"px",bottom:-($(window).scrollTop()/500)-480+"px"}))})}),e.initializeMusicPlayer=function(){musicplayer2();new APlayer({element:document.getElementById("player1"),theme:"#2196F3",music:{title:"Down the walls",author:"Lars",url:"mp3/Lars_Beck-Friis_Down_The_Walls.mp3",pic:"img/covers/wall3.jpg"}}),new APlayer({element:document.getElementById("player2"),theme:"#2196F3",music:{title:"All I want to do",author:"Lars",url:"mp3/Lars_Beck-Friis_All_I_Want_To_Do.mp3",pic:"img/covers/all.jpg"}})},e.initializeRubberLetter=function(){jQuery(".rubber-letter").mouseenter(function(){jQuery("img",this).length?jQuery("img",this).hasClass("rubberBand")||(jQuery("img",this).addClass("rubberBand"),e.removeRubberBand(jQuery("img",this))):jQuery(this).hasClass("rubberBand")||(jQuery(this).addClass("rubberBand"),e.removeRubberBand(jQuery(this)))}),jQuery(".rubber-portrait").click(function(){jQuery(".portrait-frame").removeClass("smooth-entry-reverse-portrait"),jQuery(".portrait-frame").removeClass("animation-delay-1000"),jQuery(".portrait-frame").addClass("opacity-1"),jQuery(this).hasClass("rubberBand")||(jQuery(this).addClass("rubberBand"),e.removeRubberBand(jQuery(this)))}),e.removeRubberBand=function(e){o(function(){jQuery(e).removeClass("rubberBand")},501)}}}]);