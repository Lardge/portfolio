app.controller("myController",["$scope","$rootScope","$timeout","myService","$window","$http",function(e,r,o,n,i,t){e.contentLoaded=!1,e.colorArray=["#F44336","#9C27B0","#3F51B5","#009688","#3F51B5","#8BC34A","#FF5722"],e.imagesLoadedCounter=0,e.imagesLoadedRequired=4,e.windowWidthMobile=jQuery(window).width()<=800,e.initializeController=function(){o(function(){e.getNavigation(),e.getBackgrounds(),e.initializeScrollReveal(),e.initializeWindowScroll()})},e.initializeController(),e.$on("imagesLoaded",function(){e.contentLoaded||(console.log("LOADING DONE!"),o(function(){e.contentLoaded=!0,e.initializeRubberLetter(),e.initializeSideNav(),e.$apply(),jQuery(".parallax").parallax()},250))}),e.initializeSideNav=function(){e.sidenav=new Sidenav({content:document.getElementById("home"),sidenav:document.getElementById("sidenav"),backdrop:document.getElementById("backdrop")}),jQuery("#menu-toggle").click(function(){jQuery("#menu-toggle #nav-icon1").toggleClass("open"),e.sidenav.isOpened?e.sidenav.close():e.sidenav.open()})},e.initializeScrollReveal=function(){window.sr=ScrollReveal({viewFactor:.1}),sr.reveal(".timeline-event"),sr.reveal("h1"),sr.reveal("h3"),sr.reveal("#fun .section .content"),sr.reveal("#contact .section .content")},e.initializeWindowScroll=function(){jQuery(window).resize(function(){e.windowWidthMobile=jQuery(window).width()<=800}),jQuery(window).scroll(function(){e.windowWidthMobile||(jQuery("#home-bg").height()-jQuery(this).scrollTop()>=125&&(jQuery("#home").css({transform:"translate3d(0px,"+jQuery(window).scrollTop()/5+"px, 0px)"}),jQuery(".portrait-frame").css({width:250-jQuery(window).scrollTop()/7+"px",height:250-jQuery(window).scrollTop()/7+"px",bottom:-(jQuery(window).scrollTop()/500)-480+"px"})),jQuery("#home-bg").height()-jQuery(this).scrollTop()<=300&&jQuery("#home-bg").height()-jQuery(this).scrollTop()>=-50?jQuery("#home-bg img").css({filter:"blur("+(jQuery(window).scrollTop()/15-20)+"px)"}):jQuery("#home-bg img").css({filter:"blur(0px)"}))})},e.changeBackground=function(r){angular.forEach($(".page-title span"),function(r){e.randomColor=e.colorArray[Math.floor(Math.random()*e.colorArray.length)],$(r).css("color",e.randomColor)}),$("#home-bg img").fadeOut(function(){$(this).attr("src",r.imgUrl).fadeIn(),$(".page-title span").css("color","white")}),angular.element(document.querySelector("header .navbar-fixed nav")).css("background-image","url("+r.imgBlurUrl+")"),angular.element(document.querySelector("footer.page-footer")).css("background-image","url("+r.imgBlurUrl+")"),angular.element(document.querySelector(".submit-btn")).css("background-image","url("+r.imgBlurUrl+")")},e.setBackground=function(r){for(var o=Math.floor(3*Math.random()+1),n=0;n<r.length;n++)if(r[n].id==o)return void e.changeBackground(r[n])},e.initializeRubberLetter=function(){jQuery(".rubber-letter").mouseenter(function(){jQuery("img",this).length?jQuery("img",this).hasClass("rubberBand")||(jQuery("img",this).addClass("rubberBand"),e.removeRubberBand(jQuery("img",this))):jQuery(this).hasClass("rubberBand")||(jQuery(this).addClass("rubberBand"),e.removeRubberBand(jQuery(this)))}),jQuery(".rubber-portrait").click(function(){jQuery(".portrait-frame").removeClass("smooth-entry-reverse-portrait"),jQuery(".portrait-frame").removeClass("animation-delay-1000"),jQuery(".portrait-frame").addClass("opacity-1"),jQuery(this).hasClass("rubberBand")||(jQuery(this).addClass("rubberBand"),e.removeRubberBand(jQuery(this)))}),e.removeRubberBand=function(e){o(function(){jQuery(e).removeClass("rubberBand")},501)}},e.getNavigation=function(){n.getNavigation().then(function(r){console.log(r),e.navItems=r.navItems})["catch"](function(){console.log("Error occured in Get Navigation")})},e.getBackgrounds=function(){n.getBackgrounds().then(function(r){console.log(r),e.bgItems=r.bgItems,e.setBackground(e.bgItems)})["catch"](function(){console.log("Error occured in Get Backgrounds")})}}]);